<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Python Challenge (1) | Eason&#39;s Blog</title>
  <meta name="author" content="Eason Tse">
  
  <meta name="description" content="Very interesting programming game. 
0. Warming up
1
2**38


1. What about making trans?
1
2
3
4
5
6
7
8
from string import maketrans
str_a=&quot;ab&quot;
str_b=">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Python Challenge (1)"/>
  <meta property="og:site_name" content="Eason&#39;s Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Eason&#39;s Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6252783-3']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Eason&#39;s Blog</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/utils/multimarkdown-table-generator">Util</a></li>
    
      <li><a href="/about">About</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2008-04-08T13:35:00.000Z"><a href="/blog/2008/04/08/python-challenge-1/">Apr 8 2008</a></time>
      
      
  
    <h1 class="title">Python Challenge (1)</h1>
  

    </header>
    <div class="entry">
      
        <p>Very interesting programming game. </p>
<h2 id="0-_-3c-a_href-3d-22-http-3a-2f-2f-www-pythonchallenge-com-2f-pc-2f-def-2f-0-html-22-3e-Warming_up-3c-2f-a-3e-">0. <a href="http://www.pythonchallenge.com/pc/def/0.html" target="_blank">Warming up</a></h2>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="number">2</span><span class="variable">**</span><span class="number">38</span>
</pre></td></tr></table></figure>

<h2 id="1-_-3c-a_href-3d-22-http-3a-2f-2f-www-pythonchallenge-com-2f-pc-2f-def-2f-map-html-22-3e-What_about_making_trans-3f-3c-2f-a-3e-">1. <a href="http://www.pythonchallenge.com/pc/def/map.html" target="_blank">What about making trans?</a></h2>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="title">from</span> string <span class="import"><span class="keyword">import</span> maketrans</span>
<span class="title">str_a</span>=<span class="string">"ab"</span>
<span class="title">str_b</span>=<span class="string">"cdefghijklmnopqrstuvwxyz"</span>
<span class="title">src</span>=str_a + str_b
<span class="title">dest</span>=str_b + str_a
<span class="title">transtab</span>=maketrans(src,dest)
<span class="title">str</span>=<span class="string">"g fmnc wms bgblr rpylqjyrc gr zw fylb. rfyrq ufyr amknsrcpq ypc dmp. bmgle gr gl zw fylb gq glcddgagclr ylb rfyr'q ufw rfgq rcvr gq qm jmle. sqgle qrpgle.kyicrpylq() gq pcamkkclbcb. lmu ynnjw ml rfc spj."</span>
<span class="title">print</span> str.translate(transtab)
</pre></td></tr></table></figure>

<p>Then we got the translated hint:</p>
<blockquote>
<p>i hope you didnt translate it by hand. thats what computers are for. doing it in by hand is inefficient and that’s why this text is so long. using string.maketrans() is recommended. now apply on the url.</p>
</blockquote>
<p>so, change <strong>str</strong> to <em>map</em>, the result should be <strong>ocr</strong>.</p>
<h2 id="2-_-3c-a_href-3d-22-http-3a-2f-2f-www-pythonchallenge-com-2f-pc-2f-def-2f-ocr-html-22-3e-ocr-3c-2f-a-3e-">2. <a href="http://www.pythonchallenge.com/pc/def/ocr.html" target="_blank">ocr</a></h2>
<p>Save the trunk of characters in source file to a file name <strong>ocr.src</strong>. Then:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre><span class="title">encode_str</span>=open(<span class="string">"ocr.src"</span>).read()
<span class="title">encode_str</span>.translate(<span class="type">None</span>,'~!@#$%^&*()_+\n[]{}')
</pre></td></tr></table></figure>

<p>Then the answer will show up: <strong>equality</strong>.</p>
<h2 id="3-_-3c-a_href-3d-22-http-3a-2f-2f-www-pythonchallenge-com-2f-pc-2f-def-2f-equality-html-22-3e-re-3c-2f-a-3e-">3. <a href="http://www.pythonchallenge.com/pc/def/equality.html" target="_blank">re</a></h2>
<p>Regular expression, a powerful string tool. Save the src to file <strong>equality.src</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="comment">import</span> <span class="comment">re</span><span class="string">,</span> <span class="comment">string</span>
<span class="comment">encode_str=open("equality</span><span class="string">.</span><span class="comment">src")</span><span class="string">.</span><span class="comment">read()</span>
<span class="comment">up=string</span><span class="string">.</span><span class="comment">uppercase</span>
<span class="comment">low=string</span><span class="string">.</span><span class="comment">lowercase</span>
<span class="comment">expression=</span> <span class="comment">'</span><span class="title">[</span><span class="comment">'</span><span class="literal">+</span><span class="comment">low</span><span class="literal">+</span><span class="comment">'</span><span class="title">]</span><span class="title">[</span><span class="comment">'</span><span class="literal">+</span><span class="comment">up</span><span class="literal">+</span><span class="comment">'</span><span class="title">]</span><span class="comment">{3}(</span><span class="title">[</span><span class="comment">'</span><span class="literal">+</span><span class="comment">low</span><span class="literal">+</span><span class="comment">'</span><span class="title">]</span><span class="comment">)</span><span class="title">[</span><span class="comment">'</span><span class="literal">+</span><span class="comment">up</span><span class="literal">+</span><span class="comment">'</span><span class="title">]</span><span class="comment">{3}</span><span class="title">[</span><span class="comment">'</span><span class="literal">+</span><span class="comment">low</span><span class="literal">+</span><span class="comment">'</span><span class="title">]</span><span class="comment">'</span>
<span class="comment">result=re</span><span class="string">.</span><span class="comment">findall(</span> <span class="comment">expression</span> <span class="string">,</span><span class="comment">encode_str)</span>
<span class="comment">print</span> <span class="comment">result</span>
</pre></td></tr></table></figure>

<p>The answer is <strong>linkedlist</strong>.</p>
<h2 id="4-_-3c-a_href-3d-22-http-3a-2f-2f-www-pythonchallenge-com-2f-pc-2f-def-2f-linkedlist-php-22-3e-follow_the_chain-3c-2f-a-3e-">4. <a href="http://www.pythonchallenge.com/pc/def/linkedlist.php" target="_blank">follow the chain</a></h2>
<p>According to the source hints. We need to use <strong>urllib</strong>.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre>import urllib,re
next_num=<span class="comment">'12345'</span>
url_str=urllib.urlopen(<span class="comment">'http://www.pythonchallenge.com/pc/def/linkedlist.php?nothing='+next_num).read()</span>
next_obj=re.search(<span class="comment">'\d+',url_str)</span>
<span class="keyword">while</span> next_obj:
	next_num=next_obj.<span class="keyword">group</span>()
	print url_str
	url_str=urllib.urlopen(<span class="comment">'http://www.pythonchallenge.com/pc/def/linkedlist.php?nothing='+next_num).read()</span>
	next_obj=re.search(<span class="comment">'\d+',url_str)</span>
</pre></td></tr></table></figure>

<p>After running, it stop at<br>    and the next nothing is 16044</p>
<p>Change the URL, a hint comes:<br>    Yes. Divide by two and keep going.</p>
<p>then change the <strong>next_num</strong> to ‘8022’, rerun the script, it stops at a hint:</p>
<pre><code>There maybe misleading numbers <span class="keyword">in</span> the text. One example <span class="keyword">is</span> <span class="number">82683.</span> Look only <span class="keyword">for</span> the <span class="keyword">next</span> <span class="literal">nothing</span> <span class="keyword">and</span> the <span class="keyword">next</span> <span class="literal">nothing</span> <span class="keyword">is</span> <span class="number">63579</span>
</code></pre><p>OK, change the <strong>next_num</strong> again. and it stop at 66831. Changed URL. Answer is <strong>peak.html</strong>.</p>
<h2 id="5-_-3c-a_href-3d-22-http-3a-2f-2f-www-pythonchallenge-com-2f-pc-2f-def-2f-peak-html-22-3e-peak_hell-3c-2f-a-3e-">5. <a href="http://www.pythonchallenge.com/pc/def/peak.html" target="_blank">peak hell</a></h2>
<p>Pronounce it? Oops, it should be <em>Pickle</em>. Hint in source html:</p>
<pre><code><span class="tag">&lt;<span class="title">peakhell</span> <span class="attribute">src</span>=<span class="value">"banner.p"</span>/&gt;</span>
</code></pre><figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre><span class="import"><span class="keyword">import</span> urllib</span>
<span class="import"><span class="keyword">import</span> cPickle <span class="keyword">as</span> pickle</span>
<span class="title">url_str</span>=urllib.urlopen('http://www.pythonchallenge.com/pc/def/banner.p').read()
<span class="title">pickle_obj</span>=pickle.loads(url_str)
</pre></td></tr></table></figure>

<p>And it turns out to be a multi-dimention array. The first and last element are<br>    [(‘ ‘, 95)]</p>
<p>and the second is</p>
<pre><code>[(' ', <span class="number">14</span>), ('#', <span class="number">5</span>), (' ', <span class="number">70</span>), ('#', <span class="number">5</span>), (' ', <span class="number">1</span>)]
</code></pre><p>So, what do you see? it seems like a ASCII picture whose width is 95, right? So, Let’s print it.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="keyword">for</span> <span class="built_in">line</span> <span class="operator">in</span> pickle_obj:
	line_str=<span class="string">''</span>
	<span class="keyword">for</span> <span class="keyword">item</span> <span class="operator">in</span> <span class="built_in">line</span>:
		line_str+=<span class="keyword">item</span>[<span class="number">0</span>]*<span class="keyword">item</span>[<span class="number">1</span>]
	print line_str
</pre></td></tr></table></figure>

<p>Result is a ASCII figure: <strong>channel</strong>.</p>
<h2 id="6-_-3c-a_href-3d-22-http-3a-2f-2f-www-pythonchallenge-com-2f-pc-2f-def-2f-channel-html-22-3e-now_there_are_pairs-3c-2f-a-3e-">6. <a href="http://www.pythonchallenge.com/pc/def/channel.html" target="_blank">now there are pairs</a></h2>
<p>Hint in Source html only 3 letters: <strong>zip</strong>. So, download the file: <code>channel.zip</code>. After extraction, it’s a directory with many files name in numbers. And the content is like in <a href="http://www.pythonchallenge.com/pc/def/linkedlist.php" target="_blank">level 4</a>. </p>
<p>Inside the directory, a <code>readme.txt</code> shows hints:</p>
<pre><code><span class="attribute">hint1</span>: <span class="string">start from 90052</span>
<span class="attribute">hint2</span>: <span class="string">answer is inside the zip</span>
</code></pre><figure class="highlight lang-python"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="code"><pre>
<span class="keyword">import</span> re
next_num=<span class="string">'90052'</span>
file_str=open(next_num+<span class="string">'.txt'</span>).read()
next_obj=re.search(<span class="string">'\d+'</span>,file_str)
<span class="keyword">while</span> next_obj:
	next_num=next_obj.group()
	<span class="keyword">print</span> file_str
	file_str=open(next_num+<span class="string">'.txt'</span>).read()
	next_obj=re.search(<span class="string">'\d+'</span>,file_str)
</pre></td></tr></table></figure>


<p>Stopped at <code>46145</code>, check the content:</p>
<pre><code>Collect <span class="operator">the</span> comments.
</code></pre><p>How to collect comments? </p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="import"><span class="keyword">import</span> zipfile</span>
<span class="title">zf</span>=zipfile.<span class="type">ZipFile</span>('channel.zip','r')
<span class="title">zf</span>.getinfo('<span class="number">90052.</span>txt').comment
</pre></td></tr></table></figure>

<p>it’s a <code>*</code>, what’s the next? The comment of <code>94191.txt</code> is still a <code>*</code>, wait, it looks like <strong>level 5</strong>, Maybe we could print the sequence. Combine the code together:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre>import re,zipfile
zf=zipfile.ZipFile(<span class="comment">'channel.zip','r')</span>
next_num=<span class="comment">'90052'</span>
file_str=zf.read(next_num+<span class="comment">'.txt')</span>
next_obj=re.search(<span class="comment">'\d+',file_str)</span>
result_str=<span class="comment">''</span>
<span class="keyword">while</span> next_obj:
	result_str+=zf.getinfo(next_num+<span class="comment">'.txt').comment</span>
	next_num=next_obj.<span class="keyword">group</span>()
	file_str=zf.read(next_num+<span class="comment">'.txt')</span>
	next_obj=re.search(<span class="comment">'\d+',file_str)</span>
print result_str
</pre></td></tr></table></figure>

<p>The answer is <strong>hockey</strong>. Change to <strong>hockey.html</strong>, bu it showes:</p>
<pre><code><span class="keyword">it</span>'s <span class="keyword">in</span> <span class="keyword">the</span> air. look <span class="keyword">at</span> <span class="keyword">the</span> letters.
</code></pre><p>After looking into the figure, each character is composed by 1 letter, the real answer should be <strong>oxygen</strong>.</p>
<h3 id="To_be_continue">To be continue</h3>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/Computer/">Computer</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/Game/">Game</a>, <a href="/tags/Python/">Python</a>
  </div>

        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">Comments</h1>

  
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  
</section>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:easontse.info">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/Biochemistry/">Biochemistry</a><small>7</small></li>
  
    <li><a href="/categories/Books/">Books</a><small>12</small></li>
  
    <li><a href="/categories/Computer/">Computer</a><small>54</small></li>
  
    <li><a href="/categories/Game/">Game</a><small>12</small></li>
  
    <li><a href="/categories/Life/">Life</a><small>20</small></li>
  
    <li><a href="/categories/Movie/">Movie</a><small>2</small></li>
  
    <li><a href="/categories/Music/">Music</a><small>1</small></li>
  
    <li><a href="/categories/Science/">Science</a><small>1</small></li>
  
    <li><a href="/categories/Writing/">Writing</a><small>12</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">Tag Cloud</h3>
  <div class="entry">
    <a href="/tags/AD&D/" style="font-size: 13.33px;">AD&D</a><a href="/tags/ANO1/" style="font-size: 13.33px;">ANO1</a><a href="/tags/ANO2/" style="font-size: 10.00px;">ANO2</a><a href="/tags/ANOVA/" style="font-size: 10.00px;">ANOVA</a><a href="/tags/Adult/" style="font-size: 10.00px;">Adult</a><a href="/tags/Aiglx/" style="font-size: 10.00px;">Aiglx</a><a href="/tags/App/" style="font-size: 20.00px;">App</a><a href="/tags/Apple/" style="font-size: 10.00px;">Apple</a><a href="/tags/Apps/" style="font-size: 10.00px;">Apps</a><a href="/tags/BIOS/" style="font-size: 10.00px;">BIOS</a><a href="/tags/Blog/" style="font-size: 10.00px;">Blog</a><a href="/tags/CFBE/" style="font-size: 13.33px;">CFBE</a><a href="/tags/CFTR/" style="font-size: 10.00px;">CFTR</a><a href="/tags/CNAME/" style="font-size: 10.00px;">CNAME</a><a href="/tags/CaCC/" style="font-size: 10.00px;">CaCC</a><a href="/tags/Chinese/" style="font-size: 10.00px;">Chinese</a><a href="/tags/CoT/" style="font-size: 10.00px;">CoT</a><a href="/tags/Compiz/" style="font-size: 10.00px;">Compiz</a><a href="/tags/Debian/" style="font-size: 13.33px;">Debian</a><a href="/tags/Dell/" style="font-size: 13.33px;">Dell</a><a href="/tags/Dropbox/" style="font-size: 13.33px;">Dropbox</a><a href="/tags/Edgy/" style="font-size: 10.00px;">Edgy</a><a href="/tags/Epub/" style="font-size: 10.00px;">Epub</a><a href="/tags/Excel/" style="font-size: 10.00px;">Excel</a><a href="/tags/Firefox/" style="font-size: 10.00px;">Firefox</a><a href="/tags/GFW/" style="font-size: 10.00px;">GFW</a><a href="/tags/GNUPlot/" style="font-size: 10.00px;">GNUPlot</a><a href="/tags/Game/" style="font-size: 16.67px;">Game</a><a href="/tags/GiNaC/" style="font-size: 10.00px;">GiNaC</a><a href="/tags/Git/" style="font-size: 10.00px;">Git</a><a href="/tags/Github/" style="font-size: 10.00px;">Github</a><a href="/tags/Gmail/" style="font-size: 10.00px;">Gmail</a><a href="/tags/Grant proposal/" style="font-size: 10.00px;">Grant proposal</a><a href="/tags/Graphviz/" style="font-size: 10.00px;">Graphviz</a><a href="/tags/Hexo/" style="font-size: 10.00px;">Hexo</a><a href="/tags/ID3/" style="font-size: 10.00px;">ID3</a><a href="/tags/ImageMagick/" style="font-size: 13.33px;">ImageMagick</a><a href="/tags/Ion channels/" style="font-size: 10.00px;">Ion channels</a><a href="/tags/Isc/" style="font-size: 10.00px;">Isc</a><a href="/tags/Japan/" style="font-size: 10.00px;">Japan</a>
  </div>
</div>


  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 Eason Tse
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'easonx';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>